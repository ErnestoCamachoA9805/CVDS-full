<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <link rel="stylesheet" type="text/css" href="../css/iniciativaAtributos.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Quicksand" />
    <f:facet name="first">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
        <meta name="apple-mobile-web-app-capable" content="yes" />
    </f:facet>
    <title>#{msg['application.title']}</title>
</h:head>
<h:body>
    <p:commandButton process="@this" id="boton_salir" value="Salir" actionListener="#{loginBean.logOut}"/>
    <br/>

    <h1>Iniciativa</h1>
    <br/>
    <h:outputLabel value="Numero de votos: " style="font-weight:bold"/>
    <h:outputText value="#{iniciativaBean.numeroDeVotosIniciativa()}" />

    <br/>
    <h:form id="aportesIniciativa" style="margin-left: 10%; opacity: 0.9; -moz-opacity: 0.9; filter: alpha(opacity=10);-khtml-opacity: 0.8;background-color: mintcream;border-radius: 15px;margin-top: 3%; width:80%">
        <p:dataTable var="iniciative" value="#{iniciativaBean.consultarIniciativaSolita()}" >
            <p:column headerText="Id" style=" background-color: skyblue; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniciative.id}" />
            </p:column>
            <p:column headerText="Nombre" style=" background-color: mintcream;font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniciativaBean.iniciativa.nombre}" />
            </p:column>
            <p:column headerText="Contacto" style=" background-color: skyblue; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniciativaBean.iniciativa.usuario.email}" />
            </p:column>
            <p:column headerText="Descripcion" style="background-color: mintcream; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniciativaBean.iniciativa.descripcion}" />
            </p:column>

            <p:column headerText="Area" style="background-color: skyblue; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniciativaBean.iniciativa.usuario.area}" />
            </p:column>

            <p:column headerText="Estado" style="background-color: mintcream; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniciativaBean.iniciativa.estado}" />
            </p:column>

        </p:dataTable>

        <p:messages>
            <p:autoUpdate />
        </p:messages>

    </h:form>
    <br/>
    <h1 style="color: mintcream">Comentarios de Iniciativa</h1>
    <h:form id="comentarios">
        <p:dataTable var="comentario" value="#{comentarioBean.consultarComentariosDeIniciativa()}" style="width: 70%; margin-left: 15%" >
            <p:column headerText="Comentario" style=" background-color: skyblue; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{comentario.contenido}" />
            </p:column>
            <p:column headerText="Fecha" style=" background-color: mintcream; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{comentario.fecha_comentario}" />
            </p:column>
            <p:column headerText="Correo del usuario" style=" background-color: skyblue; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{comentario.correo_usuario}" />
            </p:column>
            <p:column headerText="Nombre del usuario" style=" background-color: mintcream; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{comentario.nombre_usuario}" />
            </p:column>
            <p:column headerText="Apellido del usuario" style=" background-color: skyblue; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{comentario.apellido_usuario}" />
            </p:column>
        </p:dataTable>
    </h:form>

    <h1 style="color: mintcream">Iniciativas Relacionadas</h1>
    <h:form id="iniciativasRelacionadas">
        <p:dataTable var="iniRelacionadas" value="#{iniciativaBean.consultarIniciativasRelacionadas()}" style="width: 70%; margin-left: 15%" >
            <p:column headerText="Id" style=" background-color: skyblue; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniRelacionadas.id}" />
            </p:column>
            <p:column headerText="Nombre" style=" background-color: mintcream;font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniRelacionadas.nombre}" />
            </p:column>
            <p:column headerText="Contacto" style=" background-color: skyblue; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniRelacionadas.usuario.email}" />
            </p:column>
            <p:column headerText="Descripcion" style="background-color: mintcream; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniRelacionadas.descripcion}" />
            </p:column>
            <p:column headerText="Area" style="background-color: skyblue; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniRelacionadas.usuario.area}" />
            </p:column>
            <p:column headerText="Estado" style="background-color: mintcream; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniRelacionadas.estado}" />
            </p:column>

        </p:dataTable>
    </h:form>
    <br/>
    <p:commandButton process="@this" id="boton_regresar" value="Regresar" action="busquedaIniciativaPalabras.xhtml?faces-redirect = true" style="border-radius: 15px;width: 10%;background-color: mintcream;font-family: Quicksand"/>
    <br/>
</h:body>
</html>